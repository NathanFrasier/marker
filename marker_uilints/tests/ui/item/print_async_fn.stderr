warning: printing item with body
 --> $DIR/print_async_fn.rs:1:10
  |
1 | async fn print_with_body_foo() -> u8 {
  |          ^^^^^^^^^^^^^^^^^^^
  |
  = note: Item: Fn(
              FnItem {
                  data: CommonItemData {
                      id: ItemId(..),
                      vis: Visibility {{ /* WIP: See rust-marker/marker#26 */}},
                      ident: Ident {
                          name: "print_with_body_foo",
                          span: Span {
                              source: File(
                                  "$DIR/print_async_fn.rs",
                              ),
                              start: 9,
                              end: 28,
                          },
                      },
                  },
                  generics: SynGenericParams {
                      params: [],
                      clauses: [],
                  },
                  constness: NotConst,
                  syncness: Async,
                  safety: Safe,
                  is_extern: false,
                  has_self: false,
                  abi: Default,
                  params: [],
                  return_ty: Some(
                      ImplTrait(
                          SynImplTraitTy {
                              data: CommonSynTyData {
                                  _lifetime: PhantomData<&()>,
                                  span: SpanId(..),
                              },
                              trait_bound: [
                                  TraitBound(
                                      SynTraitBound {
                                          is_relaxed: false,
                                          trait_ref: TraitRef {
                                              item_id: ItemId(..),
                                              generics: SynGenericArgs {
                                                  args: [
                                                      Binding(
                                                          SynBindingArg {
                                                              span: SpanId(..),
                                                              ident: SymbolId(..),
                                                              ty: Num(
                                                                  SynNumTy {
                                                                      data: CommonSynTyData {
                                                                          _lifetime: PhantomData<&()>,
                                                                          span: SpanId(..),
                                                                      },
                                                                      numeric_kind: U8,
                                                                  },
                                                              ),
                                                          },
                                                      ),
                                                  ],
                                              },
                                          },
                                          span: SpanId(..),
                                      },
                                  ),
                              ],
                          },
                      ),
                  ),
                  body_id: Some(
                      BodyId(..),
                  ),
              },
          )
  = note: Body: Body {
              owner: ItemId(..),
              expr: Block(
                  BlockExpr {
                      data: CommonExprData {
                          _lifetime: PhantomData<&()>,
                          id: ExprId(..),
                          span: SpanId(..),
                      },
                      stmts: [],
                      expr: Some(
                          IntLit(
                              IntLitExpr {
                                  data: CommonExprData {
                                      _lifetime: PhantomData<&()>,
                                      id: ExprId(..),
                                      span: SpanId(..),
                                  },
                                  value: 16,
                                  suffix: None,
                              },
                          ),
                      ),
                      label: None,
                      safety: Safe,
                      syncness: Sync,
                  },
              ),
          }
  = note: `#[warn(marker::test_lint)]` on by default

warning: printing item with body
 --> $DIR/print_async_fn.rs:9:10
  |
9 | async fn print_with_body_bar() -> u8 {
  |          ^^^^^^^^^^^^^^^^^^^
  |
  = note: Item: Fn(
              FnItem {
                  data: CommonItemData {
                      id: ItemId(..),
                      vis: Visibility {{ /* WIP: See rust-marker/marker#26 */}},
                      ident: Ident {
                          name: "print_with_body_bar",
                          span: Span {
                              source: File(
                                  "$DIR/print_async_fn.rs",
                              ),
                              start: 91,
                              end: 110,
                          },
                      },
                  },
                  generics: SynGenericParams {
                      params: [],
                      clauses: [],
                  },
                  constness: NotConst,
                  syncness: Async,
                  safety: Safe,
                  is_extern: false,
                  has_self: false,
                  abi: Default,
                  params: [],
                  return_ty: Some(
                      ImplTrait(
                          SynImplTraitTy {
                              data: CommonSynTyData {
                                  _lifetime: PhantomData<&()>,
                                  span: SpanId(..),
                              },
                              trait_bound: [
                                  TraitBound(
                                      SynTraitBound {
                                          is_relaxed: false,
                                          trait_ref: TraitRef {
                                              item_id: ItemId(..),
                                              generics: SynGenericArgs {
                                                  args: [
                                                      Binding(
                                                          SynBindingArg {
                                                              span: SpanId(..),
                                                              ident: SymbolId(..),
                                                              ty: Num(
                                                                  SynNumTy {
                                                                      data: CommonSynTyData {
                                                                          _lifetime: PhantomData<&()>,
                                                                          span: SpanId(..),
                                                                      },
                                                                      numeric_kind: U8,
                                                                  },
                                                              ),
                                                          },
                                                      ),
                                                  ],
                                              },
                                          },
                                          span: SpanId(..),
                                      },
                                  ),
                              ],
                          },
                      ),
                  ),
                  body_id: Some(
                      BodyId(..),
                  ),
              },
          )
  = note: Body: Body {
              owner: ItemId(..),
              expr: Block(
                  BlockExpr {
                      data: CommonExprData {
                          _lifetime: PhantomData<&()>,
                          id: ExprId(..),
                          span: SpanId(..),
                      },
                      stmts: [
                          Let(
                              LetStmt {
                                  id: LetStmtId(..),
                                  span: SpanId(..),
                                  pat: Ident(
                                      IdentPat {
                                          data: CommonPatData {
                                              _lifetime: PhantomData<&()>,
                                              span: SpanId(..),
                                          },
                                          name: SymbolId(..),
                                          var: VarId(..),
                                          mutability: Unmut,
                                          is_ref: false,
                                          binding_pat: None,
                                      },
                                  ),
                                  ty: Some(
                                      Num(
                                          SynNumTy {
                                              data: CommonSynTyData {
                                                  _lifetime: PhantomData<&()>,
                                                  span: SpanId(..),
                                              },
                                              numeric_kind: U8,
                                          },
                                      ),
                                  ),
                                  init: Some(
                                      Await(
                                          AwaitExpr {
                                              data: CommonExprData {
                                                  _lifetime: PhantomData<&()>,
                                                  id: ExprId(..),
                                                  span: SpanId(..),
                                              },
                                              expr: Call(
                                                  CallExpr {
                                                      data: CommonExprData {
                                                          _lifetime: PhantomData<&()>,
                                                          id: ExprId(..),
                                                          span: SpanId(..),
                                                      },
                                                      operand: Path(
                                                          PathExpr {
                                                              data: CommonExprData {
                                                                  _lifetime: PhantomData<&()>,
                                                                  id: ExprId(..),
                                                                  span: SpanId(..),
                                                              },
                                                              path: AstQPath {
                                                                  self_ty: None,
                                                                  path_ty: None,
                                                                  path: AstPath {
                                                                      segments: [
                                                                          AstPathSegment {
                                                                              ident: Ident {
                                                                                  name: "foo",
                                                                                  span: Span {
                                                                                      source: File(
                                                                                          "$DIR/print_async_fn.rs",
                                                                                      ),
                                                                                      start: 137,
                                                                                      end: 140,
                                                                                  },
                                                                              },
                                                                              generics: SynGenericArgs {
                                                                                  args: [],
                                                                              },
                                                                          },
                                                                      ],
                                                                  },
                                                                  target: Item(
                                                                      ItemId(..),
                                                                  ),
                                                              },
                                                          },
                                                      ),
                                                      args: [],
                                                  },
                                              ),
                                          },
                                      ),
                                  ),
                                  els: None,
                              },
                          ),
                          Let(
                              LetStmt {
                                  id: LetStmtId(..),
                                  span: SpanId(..),
                                  pat: Ident(
                                      IdentPat {
                                          data: CommonPatData {
                                              _lifetime: PhantomData<&()>,
                                              span: SpanId(..),
                                          },
                                          name: SymbolId(..),
                                          var: VarId(..),
                                          mutability: Unmut,
                                          is_ref: false,
                                          binding_pat: None,
                                      },
                                  ),
                                  ty: Some(
                                      Num(
                                          SynNumTy {
                                              data: CommonSynTyData {
                                                  _lifetime: PhantomData<&()>,
                                                  span: SpanId(..),
                                              },
                                              numeric_kind: U8,
                                          },
                                      ),
                                  ),
                                  init: Some(
                                      Await(
                                          AwaitExpr {
                                              data: CommonExprData {
                                                  _lifetime: PhantomData<&()>,
                                                  id: ExprId(..),
                                                  span: SpanId(..),
                                              },
                                              expr: Call(
                                                  CallExpr {
                                                      data: CommonExprData {
                                                          _lifetime: PhantomData<&()>,
                                                          id: ExprId(..),
                                                          span: SpanId(..),
                                                      },
                                                      operand: Path(
                                                          PathExpr {
                                                              data: CommonExprData {
                                                                  _lifetime: PhantomData<&()>,
                                                                  id: ExprId(..),
                                                                  span: SpanId(..),
                                                              },
                                                              path: AstQPath {
                                                                  self_ty: None,
                                                                  path_ty: None,
                                                                  path: AstPath {
                                                                      segments: [
                                                                          AstPathSegment {
                                                                              ident: Ident {
                                                                                  name: "foo",
                                                                                  span: Span {
                                                                                      source: File(
                                                                                          "$DIR/print_async_fn.rs",
                                                                                      ),
                                                                                      start: 166,
                                                                                      end: 169,
                                                                                  },
                                                                              },
                                                                              generics: SynGenericArgs {
                                                                                  args: [],
                                                                              },
                                                                          },
                                                                      ],
                                                                  },
                                                                  target: Item(
                                                                      ItemId(..),
                                                                  ),
                                                              },
                                                          },
                                                      ),
                                                      args: [],
                                                  },
                                              ),
                                          },
                                      ),
                                  ),
                                  els: None,
                              },
                          ),
                          Let(
                              LetStmt {
                                  id: LetStmtId(..),
                                  span: SpanId(..),
                                  pat: Ident(
                                      IdentPat {
                                          data: CommonPatData {
                                              _lifetime: PhantomData<&()>,
                                              span: SpanId(..),
                                          },
                                          name: SymbolId(..),
                                          var: VarId(..),
                                          mutability: Unmut,
                                          is_ref: false,
                                          binding_pat: None,
                                      },
                                  ),
                                  ty: Some(
                                      Num(
                                          SynNumTy {
                                              data: CommonSynTyData {
                                                  _lifetime: PhantomData<&()>,
                                                  span: SpanId(..),
                                              },
                                              numeric_kind: U8,
                                          },
                                      ),
                                  ),
                                  init: Some(
                                      Await(
                                          AwaitExpr {
                                              data: CommonExprData {
                                                  _lifetime: PhantomData<&()>,
                                                  id: ExprId(..),
                                                  span: SpanId(..),
                                              },
                                              expr: Call(
                                                  CallExpr {
                                                      data: CommonExprData {
                                                          _lifetime: PhantomData<&()>,
                                                          id: ExprId(..),
                                                          span: SpanId(..),
                                                      },
                                                      operand: Path(
                                                          PathExpr {
                                                              data: CommonExprData {
                                                                  _lifetime: PhantomData<&()>,
                                                                  id: ExprId(..),
                                                                  span: SpanId(..),
                                                              },
                                                              path: AstQPath {
                                                                  self_ty: None,
                                                                  path_ty: None,
                                                                  path: AstPath {
                                                                      segments: [
                                                                          AstPathSegment {
                                                                              ident: Ident {
                                                                                  name: "foo",
                                                                                  span: Span {
                                                                                      source: File(
                                                                                          "$DIR/print_async_fn.rs",
                                                                                      ),
                                                                                      start: 195,
                                                                                      end: 198,
                                                                                  },
                                                                              },
                                                                              generics: SynGenericArgs {
                                                                                  args: [],
                                                                              },
                                                                          },
                                                                      ],
                                                                  },
                                                                  target: Item(
                                                                      ItemId(..),
                                                                  ),
                                                              },
                                                          },
                                                      ),
                                                      args: [],
                                                  },
                                              ),
                                          },
                                      ),
                                  ),
                                  els: None,
                              },
                          ),
                      ],
                      expr: Some(
                          BinaryOp(
                              BinaryOpExpr {
                                  data: CommonExprData {
                                      _lifetime: PhantomData<&()>,
                                      id: ExprId(..),
                                      span: SpanId(..),
                                  },
                                  left: BinaryOp(
                                      BinaryOpExpr {
                                          data: CommonExprData {
                                              _lifetime: PhantomData<&()>,
                                              id: ExprId(..),
                                              span: SpanId(..),
                                          },
                                          left: Path(
                                              PathExpr {
                                                  data: CommonExprData {
                                                      _lifetime: PhantomData<&()>,
                                                      id: ExprId(..),
                                                      span: SpanId(..),
                                                  },
                                                  path: AstQPath {
                                                      self_ty: None,
                                                      path_ty: None,
                                                      path: AstPath {
                                                          segments: [
                                                              AstPathSegment {
                                                                  ident: Ident {
                                                                      name: "a",
                                                                      span: Span {
                                                                          source: File(
                                                                              "$DIR/print_async_fn.rs",
                                                                          ),
                                                                          start: 212,
                                                                          end: 213,
                                                                      },
                                                                  },
                                                                  generics: SynGenericArgs {
                                                                      args: [],
                                                                  },
                                                              },
                                                          ],
                                                      },
                                                      target: Var(
                                                          VarId(..),
                                                      ),
                                                  },
                                              },
                                          ),
                                          right: Path(
                                              PathExpr {
                                                  data: CommonExprData {
                                                      _lifetime: PhantomData<&()>,
                                                      id: ExprId(..),
                                                      span: SpanId(..),
                                                  },
                                                  path: AstQPath {
                                                      self_ty: None,
                                                      path_ty: None,
                                                      path: AstPath {
                                                          segments: [
                                                              AstPathSegment {
                                                                  ident: Ident {
                                                                      name: "b",
                                                                      span: Span {
                                                                          source: File(
                                                                              "$DIR/print_async_fn.rs",
                                                                          ),
                                                                          start: 216,
                                                                          end: 217,
                                                                      },
                                                                  },
                                                                  generics: SynGenericArgs {
                                                                      args: [],
                                                                  },
                                                              },
                                                          ],
                                                      },
                                                      target: Var(
                                                          VarId(..),
                                                      ),
                                                  },
                                              },
                                          ),
                                          kind: Add,
                                      },
                                  ),
                                  right: Path(
                                      PathExpr {
                                          data: CommonExprData {
                                              _lifetime: PhantomData<&()>,
                                              id: ExprId(..),
                                              span: SpanId(..),
                                          },
                                          path: AstQPath {
                                              self_ty: None,
                                              path_ty: None,
                                              path: AstPath {
                                                  segments: [
                                                      AstPathSegment {
                                                          ident: Ident {
                                                              name: "c",
                                                              span: Span {
                                                                  source: File(
                                                                      "$DIR/print_async_fn.rs",
                                                                  ),
                                                                  start: 220,
                                                                  end: 221,
                                                              },
                                                          },
                                                          generics: SynGenericArgs {
                                                              args: [],
                                                          },
                                                      },
                                                  ],
                                              },
                                              target: Var(
                                                  VarId(..),
                                              ),
                                          },
                                      },
                                  ),
                                  kind: Add,
                              },
                          ),
                      ),
                      label: None,
                      safety: Safe,
                      syncness: Sync,
                  },
              ),
          }

warning: 2 warnings emitted

