warning: async blocks and await expressions are currently not supported
 --> $DIR/print_await_expr.rs:1:22
  |
1 |   async fn foo() -> u8 {
  |  ______________________^
2 | |     16
3 | | }
  | |_^
  |
  = note: see rust-marker/marker#174
  = note: set the `MARKER_DISABLE_ASYNC_WARNING` environment value to disable this warning

warning: async blocks and await expressions are currently not supported
  --> $DIR/print_await_expr.rs:5:16
   |
5  |   async fn bar() {
   |  ________________^
6  | |     let _print_await = foo().await;
7  | |
8  | |     let future = foo();
9  | |     let _print_await = future.await;
10 | | }
   | |_^
   |
   = note: see rust-marker/marker#174

warning: print test
 --> $DIR/print_await_expr.rs:6:5
  |
6 |     let _print_await = foo().await;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: Await(
              AwaitExpr {
                  data: CommonExprData {
                      _lifetime: PhantomData<&()>,
                      id: ExprId(..),
                      span: SpanId(..),
                  },
                  expr: Call(
                      CallExpr {
                          data: CommonExprData {
                              _lifetime: PhantomData<&()>,
                              id: ExprId(..),
                              span: SpanId(..),
                          },
                          operand: Path(
                              PathExpr {
                                  data: CommonExprData {
                                      _lifetime: PhantomData<&()>,
                                      id: ExprId(..),
                                      span: SpanId(..),
                                  },
                                  path: AstQPath {
                                      self_ty: None,
                                      path_ty: None,
                                      path: AstPath {
                                          segments: [
                                              AstPathSegment {
                                                  ident: Ident {
                                                      name: "foo",
                                                      span: Span {
                                                          source: File(
                                                              "$DIR/print_await_expr.rs",
                                                          ),
                                                          start: 73,
                                                          end: 76,
                                                      },
                                                  },
                                                  generics: SynGenericArgs {
                                                      args: [],
                                                  },
                                              },
                                          ],
                                      },
                                      target: Item(
                                          ItemId(..),
                                      ),
                                  },
                              },
                          ),
                          args: [],
                      },
                  ),
              },
          )
  = note: `#[warn(marker::test_lint)]` on by default

warning: print test
 --> $DIR/print_await_expr.rs:9:5
  |
9 |     let _print_await = future.await;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: Await(
              AwaitExpr {
                  data: CommonExprData {
                      _lifetime: PhantomData<&()>,
                      id: ExprId(..),
                      span: SpanId(..),
                  },
                  expr: Path(
                      PathExpr {
                          data: CommonExprData {
                              _lifetime: PhantomData<&()>,
                              id: ExprId(..),
                              span: SpanId(..),
                          },
                          path: AstQPath {
                              self_ty: None,
                              path_ty: None,
                              path: AstPath {
                                  segments: [
                                      AstPathSegment {
                                          ident: Ident {
                                              name: "future",
                                              span: Span {
                                                  source: File(
                                                      "$DIR/print_await_expr.rs",
                                                  ),
                                                  start: 134,
                                                  end: 140,
                                              },
                                          },
                                          generics: SynGenericArgs {
                                              args: [],
                                          },
                                      },
                                  ],
                              },
                              target: Var(
                                  VarId(..),
                              ),
                          },
                      },
                  ),
              },
          )

warning: 4 warnings emitted

